(()=>{let e=[];fetch("http://localhost:3000/teams-json",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{e=t,console.info(t),function(e){const t=e.map((e=>`\n        <tr>\n            <td>${e.promotion}</td>\n            <td>${e.members}</td>\n            <td>${e.name}</td>\n            <td>${e.url}</td>\n            <td>\n              <a data-id="${e.id}" class="remove-btn">✖️</a>\n              <a data-id="${e.id}" class="edit-btn">&#9998;</a>\n            </td>\n        </tr>`));document.querySelector("#teams tbody").innerHTML=t.join("")}(t)})),document.getElementById("editForm").addEventListener("submit",(function(e){e.preventDefault(),fetch("http://localhost:3000/teams-json/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({promotion:document.getElementById("promotion").value,members:document.getElementById("members").value,name:document.getElementById("name").value,url:document.getElementById("url").value})}).then((e=>e.json())).then((e=>{e.success&&window.location.reload()}))})),document.querySelector("#teams tbody").addEventListener("click",(t=>{var n;t.target.matches("a.remove-btn")?(n=t.target.dataset.id,fetch("http://localhost:3000/teams-json/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})}).then((e=>e.json()))).then((e=>{e.success&&window.location.reload()})):t.target.matches("a.edit-btn")&&function(t){const n=e.find((e=>e.id===t));console.warn("edit",t,n),document.getElementById("promotion").value="promotion",document.getElementById("members").value="members",document.getElementById("name").value="name",document.getElementById("url").value="url"}(t.target.dataset.id)}))})();